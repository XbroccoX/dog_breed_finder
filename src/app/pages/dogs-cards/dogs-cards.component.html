<mat-toolbar>
  <span>Dog Breed Gallery</span>
</mat-toolbar>

<div class="container">
  <mat-form-field appearance="fill" class="search-field">
    <mat-label>Search breed</mat-label>
    <input matInput [(ngModel)]="searchTerm"  placeholder="French Bulldog, Beagle, etc."
      (ngModelChange)="onSearch()"
    >
  </mat-form-field>
  <div *ngIf="filteredBreeds.length > 0" class="breed-list mt-0">
    <div *ngFor="let breed of filteredBreeds"
      (click)="selectBreed(breed.name, breed.subBreed)"
      class="breed-item"
    >
      {{breed.displayName}}
    </div>
  </div>

  <!-- <pre> {{ filteredBreeds | json}}</pre> -->

  @if(loading){
    <div class="d-flex justify-content-center mt-3">
      <mat-spinner></mat-spinner>
    </div>
  }

  @if(!loading && images.length === 0){
    <div class="d-flex justify-content-center mt-3">
      <p>No images found for this breed.</p>
    </div>
  }

  @if(!loading && images.length > 0){
    <div class="row mt-3 g-4">
      <div class="col-6 col-sm-4" *ngFor="let image of images">
        <mat-card class="dog-card">
          <img mat-card-image [src]="image" [alt]="currentBreedName">
          <mat-card-content>
            <p>{{ currentBreedName }}</p>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  }

</div>
